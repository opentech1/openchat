# ============================================================================
# OpenChat Convex Server - Environment Variables
# ============================================================================
# This file documents all environment variables used in the Convex backend.
#
# Set these via:
#   1. npx convex env set KEY value
#   2. Add to apps/server/.env.local for local development
#
# SECURITY: Never commit .env.local to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Required - Core Configuration
# ----------------------------------------------------------------------------

# Public application URL (where your web app is hosted)
# Used for OAuth redirects and CORS
NEXT_PUBLIC_APP_URL=http://localhost:3001

# Better Auth secret for session encryption
# Generate with: openssl rand -base64 32
# SECURITY: Must match the value in apps/web/.env.local!
# SECURITY: Must be different from "dev-secret" in production!
BETTER_AUTH_SECRET=dev-secret

# ----------------------------------------------------------------------------
# Optional - OAuth Providers (at least one recommended)
# ----------------------------------------------------------------------------

# GitHub OAuth
# Get credentials at: https://github.com/settings/developers
# Callback URL: {NEXT_PUBLIC_APP_URL}/api/auth/callback/github
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Google OAuth
# Get credentials at: https://console.cloud.google.com/apis/credentials
# Callback URL: {NEXT_PUBLIC_APP_URL}/api/auth/callback/google
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ----------------------------------------------------------------------------
# Optional - Authentication Configuration
# ----------------------------------------------------------------------------

# Cookie prefix for auth cookies
# Default: openchat
AUTH_COOKIE_PREFIX=openchat

# Convex site URL (auto-set by Convex)
CONVEX_SITE_URL=

# ----------------------------------------------------------------------------
# Optional - Deployment Metadata
# ----------------------------------------------------------------------------

# Deployment environment name
# Examples: local, preview, production
NEXT_PUBLIC_DEPLOYMENT=local

# App version
NEXT_PUBLIC_APP_VERSION=

# Node environment
# Values: development, production, test
NODE_ENV=development

# ============================================================================
# Setup Instructions
# ============================================================================
#
# 1. Local Development:
#    - Copy this file to apps/server/.env.local
#    - Fill in required values (at minimum: BETTER_AUTH_SECRET)
#    - Optionally configure OAuth providers
#    - Run: npx convex dev
#
# 2. Production Deployment:
#    - Set all required variables via: npx convex env set KEY value
#    - Configure at least one OAuth provider
#    - Ensure BETTER_AUTH_SECRET is secure and matches web app
#    - Set NEXT_PUBLIC_APP_URL to your production domain
#
# 3. OAuth Setup:
#    - You need at least one OAuth provider (GitHub or Google)
#    - Set the callback URL in your OAuth app settings
#    - Callback format: {NEXT_PUBLIC_APP_URL}/api/auth/callback/{provider}
#
# ============================================================================
