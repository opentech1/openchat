# ==============================================================================
# OpenChat Environment Configuration
# ==============================================================================
# Copy this file to .env.local and fill in your values
# Generate secrets with: openssl rand -base64 32

# ==============================================================================
# REQUIRED: Authentication
# ==============================================================================
# better-auth secret for session encryption (REQUIRED in production)
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=CHANGE_ME_USE_OPENSSL_RAND_BASE64_32

# ==============================================================================
# REQUIRED: Database (Production)
# ==============================================================================
# PostgreSQL connection string (REQUIRED in production)
# Development: Can use in-memory fallback if not set
# Production: MUST be set
DATABASE_URL=postgresql://user:password@host:5432/openchat

# ==============================================================================
# Public URLs
# ==============================================================================
# Web app URL (frontend)
NEXT_PUBLIC_APP_URL=http://localhost:3001

# API server URL (backend)
NEXT_PUBLIC_SERVER_URL=http://localhost:3000

# ==============================================================================
# Optional: Advanced Configuration
# ==============================================================================
# Server-to-server internal URL (optional)
# Use this if your server needs to call itself via a different URL
# SERVER_INTERNAL_URL=http://localhost:3000

# better-auth base URL (optional, defaults to SERVER_INTERNAL_URL or NEXT_PUBLIC_SERVER_URL)
# BETTER_AUTH_URL=http://localhost:3000

# Cross-subdomain cookie domain (optional, for sharing auth between subdomains)
# AUTH_COOKIE_DOMAIN=.yourdomain.com

# ==============================================================================
# Convex (Backend sync - replaces ElectricSQL)
# ==============================================================================
CONVEX_URL=http://localhost:3210
NEXT_PUBLIC_CONVEX_URL=http://localhost:3210

# ==============================================================================
# Optional: Analytics (PostHog)
# ==============================================================================
# NEXT_PUBLIC_POSTHOG_KEY=your_posthog_key
# NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com
# POSTHOG_API_KEY=your_server_key
# POSTHOG_HOST=https://us.i.posthog.com

# ==============================================================================
# Development Only: Auth Bypass
# ==============================================================================
# WARNING: NEVER set these to 1 in production!
NEXT_PUBLIC_DEV_BYPASS_AUTH=0
NEXT_PUBLIC_DEV_USER_ID=dev-user
